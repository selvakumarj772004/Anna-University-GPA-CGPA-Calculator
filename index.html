<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anna University GPA & CGPA Calculator</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #87CEEB 0%, #4682B4 50%, #6495ED 100%);
      min-height: 100vh;
      padding: 15px;
      animation: skyFlow 10s ease-in-out infinite;
    }

    @keyframes skyFlow {
      0%, 100% { 
        background: linear-gradient(135deg, #87CEEB 0%, #4682B4 50%, #6495ED 100%); 
      }
      33% { 
        background: linear-gradient(135deg, #87CEFA 0%, #00BFFF 50%, #1E90FF 100%); 
      }
      66% { 
        background: linear-gradient(135deg, #B0E0E6 0%, #5F9EA0 50%, #4169E1 100%); 
      }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 25px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.3);
      margin-bottom: 30px;
    }

    .footer {
      text-align: center;
      padding: 20px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      margin: 20px auto 0;
      max-width: 1200px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .footer p {
      color: #4682B4;
      font-size: 16px;
      font-weight: 600;
      margin: 0;
    }

    .footer .heart {
      color: #FF6B6B;
      font-size: 18px;
      animation: heartbeat 2s ease-in-out infinite;
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .header {
      background: linear-gradient(135deg, #4682B4 0%, #1E90FF 100%);
      padding: 35px;
      text-align: center;
      color: white;
    }

    .header h1 {
      font-size: 2.8em;
      margin-bottom: 12px;
      font-weight: 800;
      text-shadow: 0 3px 15px rgba(0, 0, 0, 0.3);
    }

    .header p {
      font-size: 1.2em;
      opacity: 0.95;
    }

    .cgpa-display {
      background: rgba(255, 255, 255, 0.2);
      padding: 15px 25px;
      border-radius: 50px;
      margin-top: 20px;
      font-size: 1.1em;
      font-weight: 700;
      display: none;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .main-content {
      padding: 35px;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 35px;
      flex-wrap: wrap;
    }

    .btn {
      background: linear-gradient(135deg, #4682B4 0%, #1E90FF 100%);
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 17px;
      font-weight: 700;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(70, 130, 180, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(70, 130, 180, 0.4);
    }

    .btn-primary {
      background: linear-gradient(135deg, #00BFFF 0%, #1E90FF 100%);
    }

    .btn-success {
      background: linear-gradient(135deg, #87CEFA 0%, #4682B4 100%);
      color: white;
    }

    .btn-danger {
      background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%);
      color: white;
      padding: 10px 20px;
      font-size: 14px;
    }

    .semester-card {
      background: white;
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08);
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }

    .semester-card:hover {
      border-color: #4682B4;
      transform: translateY(-3px);
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.12);
    }

    .semester-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 20px;
      border-bottom: 3px solid #f5f5f5;
    }

    .semester-title {
      font-size: 2em;
      color: #333;
      font-weight: 800;
    }

    .semester-gpa {
      background: linear-gradient(135deg, #87CEFA 0%, #4682B4 100%);
      color: white;
      padding: 12px 20px;
      border-radius: 30px;
      font-weight: 700;
      min-width: 180px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(70, 130, 180, 0.3);
    }

    .course-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 25px;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    }

    .course-table th {
      background: linear-gradient(135deg, #4682B4 0%, #1E90FF 100%);
      color: white;
      padding: 18px;
      font-weight: 700;
      text-align: center;
      font-size: 16px;
    }

    .course-table td {
      padding: 18px;
      text-align: center;
      border-bottom: 1px solid #f0f0f0;
      background: #fafafa;
    }

    .course-table tr:hover td {
      background: #f0f8ff;
    }

    .course-name-input {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 600;
      transition: all 0.3s ease;
      background: white;
    }

    .course-name-input:focus {
      outline: none;
      border-color: #4682B4;
      box-shadow: 0 0 15px rgba(70, 130, 180, 0.2);
    }

    .credit-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .credit-btn {
      background: linear-gradient(135deg, #00BFFF 0%, #1E90FF 100%);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      font-weight: bold;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 15px rgba(30, 144, 255, 0.3);
    }

    .credit-btn:hover {
      transform: scale(1.15);
      box-shadow: 0 6px 20px rgba(30, 144, 255, 0.4);
    }

    .credit-btn:active {
      transform: scale(0.95);
    }

    .course-input {
      width: 80px;
      padding: 12px 8px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      text-align: center;
      font-size: 16px;
      font-weight: 700;
      transition: all 0.3s ease;
      background: white;
    }

    .course-input:focus {
      outline: none;
      border-color: #4682B4;
      box-shadow: 0 0 15px rgba(70, 130, 180, 0.2);
    }

    .grade-select {
      padding: 12px 16px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      background: white;
      font-size: 15px;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .grade-select:focus {
      outline: none;
      border-color: #4682B4;
      box-shadow: 0 0 15px rgba(70, 130, 180, 0.2);
    }

    .points-cell {
      font-weight: 700;
      font-size: 16px;
      color: #4682B4;
    }

    .cgpa-result {
      text-align: center;
      margin-top: 35px;
      padding: 30px;
      background: linear-gradient(135deg, #4682B4 0%, #1E90FF 100%);
      color: white;
      border-radius: 20px;
      font-size: 1.6em;
      font-weight: 800;
      box-shadow: 0 15px 40px rgba(70, 130, 180, 0.3);
    }

    .grade-legend {
      display: flex;
      justify-content: center;
      gap: 18px;
      margin-bottom: 35px;
      flex-wrap: wrap;
    }

    .grade-item {
      background: white;
      padding: 12px 20px;
      border-radius: 25px;
      font-size: 15px;
      font-weight: 700;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      color: #4682B4;
      border: 2px solid #87CEEB;
    }

    .empty-state {
      text-align: center;
      padding: 80px 20px;
      color: #666;
    }

    .empty-state-icon {
      font-size: 5em;
      margin-bottom: 25px;
      opacity: 0.6;
    }

    .empty-state-text {
      font-size: 1.4em;
      margin-bottom: 25px;
      font-weight: 600;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      body {
        padding: 5px;
      }

      .container {
        border-radius: 15px;
        margin-bottom: 15px;
      }

      .footer {
        border-radius: 15px;
        padding: 15px;
        margin: 10px auto 0;
      }

      .footer p {
        font-size: 14px;
        line-height: 1.4;
      }

      .header {
        padding: 20px 15px;
      }

      .header h1 {
        font-size: 2em;
        margin-bottom: 8px;
      }
      
      .header p {
        font-size: 1em;
      }

      .cgpa-display {
        padding: 10px 15px;
        font-size: 0.9em;
      }
      
      .main-content {
        padding: 20px 15px;
      }

      .semester-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
        align-items: stretch;
      }

      .semester-title {
        font-size: 1.4em;
      }

      .semester-gpa {
        min-width: unset;
        width: 100%;
        padding: 10px 15px;
      }
      
      .controls {
        flex-direction: column;
        align-items: center;
        gap: 12px;
        margin-bottom: 25px;
      }

      .btn {
        width: 100%;
        max-width: 280px;
        justify-content: center;
        padding: 12px 24px;
        font-size: 15px;
      }
      
      /* Mobile table styling - Card layout */
      .course-table {
        display: none;
      }

      .mobile-course-list {
        display: block;
      }

      .mobile-course-item {
        background: white;
        border: 2px solid #f0f0f0;
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      }

      .mobile-course-item:hover {
        border-color: #4682B4;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      .mobile-course-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }

      .mobile-course-row:last-child {
        margin-bottom: 0;
      }

      .mobile-course-label {
        font-weight: 700;
        color: #4682B4;
        font-size: 14px;
        min-width: 70px;
      }

      .mobile-course-value {
        flex: 1;
        text-align: right;
      }

      .mobile-course-name {
        margin-bottom: 15px;
      }

      .mobile-course-name .course-name-input {
        font-size: 16px;
        padding: 12px;
      }

      .mobile-actions {
        display: flex;
        justify-content: center;
        margin-top: 15px;
      }

      .grade-legend {
        gap: 8px;
        margin-bottom: 25px;
      }

      .grade-item {
        padding: 8px 12px;
        font-size: 12px;
      }

      .cgpa-result {
        font-size: 1.2em;
        padding: 20px 15px;
      }

      .semester-card {
        padding: 15px;
        margin-bottom: 20px;
      }

      .credit-controls {
        gap: 8px;
      }

      .credit-btn {
        width: 35px;
        height: 35px;
        font-size: 18px;
      }

      .course-input {
        width: 65px;
        padding: 10px 6px;
        font-size: 15px;
      }

      .grade-select {
        font-size: 14px;
        padding: 10px 12px;
        min-width: 80px;
      }

      .points-cell {
        font-size: 15px;
        font-weight: 700;
        color: #4682B4;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 3px;
      }

      .header h1 {
        font-size: 1.7em;
      }

      .header p {
        font-size: 0.9em;
      }

      .main-content {
        padding: 15px 10px;
      }

      .semester-card {
        padding: 12px;
      }

      .mobile-course-item {
        padding: 15px;
      }

      .mobile-course-label {
        font-size: 13px;
        min-width: 65px;
      }

      .credit-btn {
        width: 32px;
        height: 32px;
        font-size: 16px;
      }

      .course-input {
        width: 60px;
        font-size: 14px;
      }

      .grade-select {
        font-size: 13px;
        padding: 8px 10px;
        min-width: 70px;
      }

      .btn {
        padding: 10px 20px;
        font-size: 14px;
      }

      .grade-item {
        padding: 6px 10px;
        font-size: 11px;
      }

      .footer p {
        font-size: 12px;
      }
    }

    /* Desktop table display */
    @media (min-width: 769px) {
      .mobile-course-list {
        display: none;
      }
      
      .course-table {
        display: table;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>🎓 Anna University</h1>
      <p>GPA & CGPA Calculator</p>
      <div class="cgpa-display" id="headerCGPA">
        🎯 Overall CGPA: Not calculated yet
      </div>
    </div>

    <div class="main-content">
      <div class="grade-legend">
        <div class="grade-item">O: 10 Points</div>
        <div class="grade-item">A+: 9 Points</div>
        <div class="grade-item">A: 8 Points</div>
        <div class="grade-item">B+: 7 Points</div>
        <div class="grade-item">B: 6 Points</div>
        <div class="grade-item">C: 5 Points</div>
      </div>

      <div class="controls">
        <button class="btn btn-primary" onclick="addSemester()">
          ➕ Add Semester
        </button>
        <button class="btn btn-success" onclick="calculateCGPA()">
          📊 Calculate CGPA
        </button>
      </div>

      <div id="semesters">
        <div class="empty-state">
          <div class="empty-state-icon">📚</div>
          <div class="empty-state-text">No semesters added yet</div>
          <p>Click "Add Semester" to get started!</p>
        </div>
      </div>

      <div class="cgpa-result" id="cgpaResult" style="display: none;"></div>
    </div>
  </div>

  <div class="footer">
    <p>© 2025 Made with <span class="heart">❤️</span> by <strong>Selvakumar</strong> | Anna University GPA | CGPA Calculator</p>
    <p>Aspiring Software Developer & Full Stack Web Developer in Java</p>
  </div>

  <script>
    let semesterCount = 0;

    const gradePoints = {
      "O": 10, "A+": 9, "A": 8,
      "B+": 7, "B": 6, "C": 5
    };

    function addSemester() {
      // Hide empty state
      const emptyState = document.querySelector('.empty-state');
      if (emptyState) {
        emptyState.style.display = 'none';
      }

      semesterCount++;
      const div = document.createElement("div");
      div.className = "semester-card";
      div.id = `semester-${semesterCount}`;
      div.innerHTML = `
        <div class="semester-header">
          <h3 class="semester-title">📖 Semester ${semesterCount}</h3>
          <div class="semester-gpa" id="gpaResult-${semesterCount}">GPA: Not calculated</div>
        </div>
        
        <!-- Desktop Table View -->
        <table class="course-table" id="table-${semesterCount}">
          <thead>
            <tr>
              <th style="width: 35%;">Course Name</th>
              <th style="width: 25%;">Credits</th>
              <th style="width: 15%;">Grade</th>
              <th style="width: 15%;">Points</th>
              <th style="width: 10%;">Action</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <!-- Mobile Card View -->
        <div class="mobile-course-list" id="mobile-list-${semesterCount}"></div>
        
        <div class="controls">
          <button class="btn" onclick="addCourse(${semesterCount})">➕ Add Course</button>
          <button class="btn btn-success" onclick="calculateGPA(${semesterCount})">📌 Calculate GPA</button>
          <button class="btn btn-danger" onclick="removeSemester(${semesterCount})">🗑️ Remove Semester</button>
        </div>
      `;
      document.getElementById("semesters").appendChild(div);
      addCourse(semesterCount);
      addCourse(semesterCount);
    }

    function addCourse(sem) {
      // Add to desktop table
      const table = document.getElementById(`table-${sem}`).getElementsByTagName('tbody')[0];
      const row = table.insertRow();
      const courseNumber = table.rows.length;
      row.innerHTML = `
        <td><input type="text" class="course-name-input" placeholder="Course ${courseNumber}" value="Course ${courseNumber}"></td>
        <td>
          <div class="credit-controls">
            <button type="button" class="credit-btn" onclick="adjustCredit(this, -0.5, ${sem})">−</button>
            <input type="number" class="course-input" min="0.5" max="10" step="0.5" value="3" onchange="calculateGPA(${sem})">
            <button type="button" class="credit-btn" onclick="adjustCredit(this, 0.5, ${sem})">+</button>
          </div>
        </td>
        <td>
          <select class="grade-select" onchange="updatePoints(this); calculateGPA(${sem})">
            <option value="O">O</option>
            <option value="A+">A+</option>
            <option value="A">A</option>
            <option value="B+">B+</option>
            <option value="B">B</option>
            <option value="C">C</option>
          </select>
        </td>
        <td class="points-cell">10.0</td>
        <td><button class="btn btn-danger" onclick="removeCourse(this, ${sem})">❌</button></td>
      `;

      // Add to mobile list
      const mobileList = document.getElementById(`mobile-list-${sem}`);
      const mobileItem = document.createElement('div');
      mobileItem.className = 'mobile-course-item';
      mobileItem.innerHTML = `
        <div class="mobile-course-name">
          <input type="text" class="course-name-input" placeholder="Course ${courseNumber}" value="Course ${courseNumber}">
        </div>
        <div class="mobile-course-row">
          <span class="mobile-course-label">Credits:</span>
          <div class="mobile-course-value">
            <div class="credit-controls">
              <button type="button" class="credit-btn" onclick="adjustCreditMobile(this, -0.5, ${sem})">−</button>
              <input type="number" class="course-input" min="0.5" max="10" step="0.5" value="3" onchange="calculateGPA(${sem})">
              <button type="button" class="credit-btn" onclick="adjustCreditMobile(this, 0.5, ${sem})">+</button>
            </div>
          </div>
        </div>
        <div class="mobile-course-row">
          <span class="mobile-course-label">Grade:</span>
          <div class="mobile-course-value">
            <select class="grade-select" onchange="updatePointsMobile(this); calculateGPA(${sem})">
              <option value="O">O</option>
              <option value="A+">A+</option>
              <option value="A">A</option>
              <option value="B+">B+</option>
              <option value="B">B</option>
              <option value="C">C</option>
            </select>
          </div>
        </div>
        <div class="mobile-course-row">
          <span class="mobile-course-label">Points:</span>
          <div class="mobile-course-value">
            <span class="points-cell">10.0</span>
          </div>
        </div>
        <div class="mobile-actions">
          <button class="btn btn-danger" onclick="removeCourseMobile(this, ${sem})">❌ Remove</button>
        </div>
      `;
      mobileList.appendChild(mobileItem);
    }

    function adjustCredit(button, adjustment, sem) {
      const creditInput = button.parentNode.querySelector('.course-input');
      adjustCreditValue(creditInput, adjustment, sem);
    }

    function adjustCreditMobile(button, adjustment, sem) {
      const creditInput = button.parentNode.querySelector('.course-input');
      adjustCreditValue(creditInput, adjustment, sem);
    }

    function adjustCreditValue(creditInput, adjustment, sem) {
      let currentValue = parseFloat(creditInput.value) || 0;
      let newValue = currentValue + adjustment;
      
      // Ensure value stays within bounds
      if (newValue < 0.5) newValue = 0.5;
      if (newValue > 10) newValue = 10;
      
      creditInput.value = newValue;
      calculateGPA(sem);
    }

    function updatePoints(selectElement) {
      const grade = selectElement.value;
      const pointsCell = selectElement.closest('tr').querySelector('.points-cell');
      pointsCell.textContent = gradePoints[grade].toFixed(1);
    }

    function updatePointsMobile(selectElement) {
      const grade = selectElement.value;
      const pointsCell = selectElement.closest('.mobile-course-item').querySelector('.points-cell');
      pointsCell.textContent = gradePoints[grade].toFixed(1);
    }

    function removeCourse(button, sem) {
      const row = button.closest('tr');
      const rowIndex = row.rowIndex - 1; // Subtract 1 for header row
      
      // Remove from table
      row.remove();
      
      // Remove corresponding mobile item
      const mobileList = document.getElementById(`mobile-list-${sem}`);
      const mobileItems = mobileList.children;
      if (mobileItems[rowIndex]) {
        mobileItems[rowIndex].remove();
      }
      
      calculateGPA(sem);
    }

    function removeCourseMobile(button, sem) {
      const mobileItem = button.closest('.mobile-course-item');
      const mobileList = document.getElementById(`mobile-list-${sem}`);
      const itemIndex = Array.from(mobileList.children).indexOf(mobileItem);
      
      // Remove mobile item
      mobileItem.remove();
      
      // Remove corresponding table row
      const table = document.getElementById(`table-${sem}`).getElementsByTagName('tbody')[0];
      if (table.rows[itemIndex]) {
        table.rows[itemIndex].remove();
      }
      
      calculateGPA(sem);
    }

    function removeSemester(sem) {
      if (confirm('Are you sure you want to remove this semester?')) {
        document.getElementById(`semester-${sem}`).remove();
        calculateCGPA();
        
        // Show empty state if no semesters left
        const remainingSemesters = document.querySelectorAll('.semester-card');
        if (remainingSemesters.length === 0) {
          document.getElementById('semesters').innerHTML = `
            <div class="empty-state">
              <div class="empty-state-icon">📚</div>
              <div class="empty-state-text">No semesters added yet</div>
              <p>Click "Add Semester" to get started!</p>
            </div>
          `;
          document.getElementById('cgpaResult').style.display = 'none';
          document.getElementById('headerCGPA').style.display = 'none';
        }
      }
    }

    function calculateGPA(sem) {
      const table = document.getElementById(`table-${sem}`).getElementsByTagName('tbody')[0];
      let totalPoints = 0, totalCredits = 0;

      for (let i = 0; i < table.rows.length; i++) {
        const row = table.rows[i];
        const credits = parseFloat(row.cells[1].querySelector('.course-input').value) || 0;
        const grade = row.cells[2].children[0].value;
        totalPoints += credits * gradePoints[grade];
        totalCredits += credits;
      }

      const gpa = totalCredits ? (totalPoints / totalCredits) : 0;
      const gpaElement = document.getElementById(`gpaResult-${sem}`);
      
      if (totalCredits === 0)
